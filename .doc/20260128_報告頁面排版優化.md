# 2026-01-28 報告頁面排版優化

**日期**: 2026-01-28
**類型**: UI/UX 優化
**影響頁面**: `/reports`

---

## 優化目標

1. **統一 Grid 佈局** - 讓 Stats 卡片更一致
2. **增加內容密度** - 減少間距，讓更多內容可見
3. **改善資訊層次** - 調整卡片大小和重要性
4. **優化響應式設計** - 讓不同螢幕尺寸都有好的顯示效果

---

## 修改內容

### 1. 統一 Grid 佈局

| 區域 | 修改前 | 修改後 |
|------|--------|--------|
| 個人報告 Stats | `md:grid-cols-2 lg:grid-cols-6 xl:grid-cols-8` | `grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6` |
| 團隊報告 Stats | `md:grid-cols-2 lg:grid-cols-5 xl:grid-cols-6` | `grid-cols-2 md:grid-cols-3 lg:grid-cols-5` |
| PDCM 維度分析 | `md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-6` | `grid-cols-2 md:grid-cols-4` |

### 2. 增加內容密度

| 項目 | 修改前 | 修改後 |
|------|--------|--------|
| 頁面 padding | `p-6 lg:p-8` | `p-4 lg:p-6` |
| 頁面最大寬度 | `max-w-7xl` | `max-w-6xl` |
| 主要區塊間距 | `space-y-6` | `space-y-4` |
| Grid gap | `gap-4` / `gap-6` | `gap-3` / `gap-4` |

### 3. AnalyticsCard 新增 compact 模式

新增 `compact` prop 支援更緊湊的卡片樣式：

```typescript
function AnalyticsCard({
  // ... 其他 props
  compact = false, // 新增
}: {
  compact?: boolean;
}) {
  return (
    <Card>
      <CardHeader className={compact ? "p-3 pb-2" : "p-4 pb-3"}>
        <CardTitle className={compact ? "text-base" : "text-lg"}>
          <div className={compact ? "h-6 w-6" : "h-7 w-7"}>
            <Icon className={compact ? "h-3 w-3" : "h-3.5 w-3.5"} />
          </div>
          {title}
        </CardTitle>
      </CardHeader>
      <CardContent className={compact ? "p-3" : "p-4"}>
        {children}
      </CardContent>
    </Card>
  );
}
```

| 模式 | Header Padding | Content Padding | 標題大小 | 圖示大小 |
|------|----------------|-----------------|----------|----------|
| 標準 | `p-4 pb-3` | `p-4` | `text-lg` | `h-7 w-7` / `h-3.5 w-3.5` |
| compact | `p-3 pb-2` | `p-3` | `text-base` | `h-6 w-6` / `h-3 w-3` |

### 4. 優化響應式設計

| 元素 | 修改前 | 修改後 |
|------|--------|--------|
| 頁面標題 | `text-3xl` | `text-2xl lg:text-3xl` |
| 頁面副標題 | `text-sm` | `text-xs lg:text-sm` |
| Tab 按鈕 | `px-4 py-2` | `px-3 py-1.5` |
| Tab icon margin | `mr-2` | `mr-1.5` |
| TabsContent margin | `mt-6` | `mt-4` |

### 5. 其他細節優化

**進步追蹤卡片**：
- 數值大小：`text-3xl` → `text-2xl`
- 內部間距：`p-4` → `p-3`
- gap：`gap-3` → `gap-2`

**需要關注的機會卡片**：
- 合併資訊到單行：`負責人: xxx` + `風險: xxx` → `xxx · xxx`
- 移除建議行動顯示（改善資訊密度）

**Select 下拉選單**：
- 用戶選擇器：`w-[200px]` → `w-[180px]`
- 部門篩選器：`w-[150px]` → `w-[140px]`
- 上傳排名週期：`w-[100px]` → `w-[90px]` + `h-7 text-xs`

---

## 修改檔案

| 檔案 | 變更說明 |
|------|----------|
| `apps/web/src/routes/reports/index.tsx` | 全面優化排版和間距 |

---

## 部署步驟

```bash
cd apps/web
bun run build
bunx wrangler pages deploy dist --project-name=sales-ai-web --branch=main
```

---

## 效果對比

### 修改前
- 卡片間距較大，需要較多滾動
- 不同區域的 Grid 佈局不一致
- 在中等螢幕上顯示效果不佳

### 修改後
- 更緊湊的佈局，同一螢幕可顯示更多內容
- 統一的 Grid 斷點設計
- 更好的響應式體驗

---

## 相關文件

- [Precision Dashboard Design System v2](內部設計規範)
